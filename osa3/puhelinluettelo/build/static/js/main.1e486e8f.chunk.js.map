{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","handleFilter","onChange","PersonForm","addPerson","handleInputChange","newPerson","onSubmit","value","name","number","type","Persons","persons","handleDelete","map","person","key","id","onClick","baseUrl","axios","get","then","res","data","post","put","delete","Notification","message","status","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","width","App","useState","setPersons","filteredPersons","setFilteredPersons","setMessage","setNewPerson","useEffect","getPersons","personService","initialPersons","messageHandler","success","err","setTimeout","e","target","length","filteredList","filter","toLocaleLowerCase","includes","preventDefault","some","window","confirm","newData","catch","JSON","stringify","response","updatePerson","find","returnedPerson","concat","alert","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1e486e8f.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Filter = ({ handleFilter }) => {\r\n  return (\r\n    <div>\r\n      <p>filter shown with: <input onChange={handleFilter} /></p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import React from 'react';\r\n\r\nconst PersonForm = ({ addPerson, handleInputChange, newPerson }) => {\r\n  return (\r\n    <form onSubmit={addPerson}>\r\n      <div>\r\n        name: <input value={newPerson.name} name='name' onChange={handleInputChange} />\r\n      </div>\r\n      <div>\r\n        number: <input value={newPerson.number} name='number' onChange={handleInputChange} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default PersonForm;\r\n","import React from 'react';\r\n\r\nconst Persons = ({ persons, handleDelete }) => {\r\n  return (\r\n    persons.map(person =>\r\n      <p key={person.id}>\r\n        {person.name}{' '}\r\n        {person.number}{' '}\r\n        <button onClick={() => handleDelete(person.id)}>delete</button>\r\n      </p>\r\n    )\r\n  );\r\n};\r\n\r\nexport default Persons;","import axios from 'axios';\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl)\r\n    .then(res => { return res.data });\r\n};\r\n\r\nconst create = newPerson => {\r\n  return axios.post(baseUrl, newPerson)\r\n    .then(res => { return res.data })\r\n};\r\n\r\nconst update = (id, newPerson) => {\r\n  return axios.put(`${baseUrl}/${id}`, newPerson)\r\n    .then(res => { return res.data });\r\n};\r\n\r\nconst deletePerson = (id) => {\r\n  return axios.delete(`${baseUrl}/${id}`)\r\n    .then(res => { return res });\r\n};\r\n\r\nexport default {\r\n  getAll,\r\n  create,\r\n  update,\r\n  deletePerson\r\n};","import React from 'react';\r\n\r\nconst Notification = ({ message }) => {\r\n\r\n  const notificationErrStyles = {\r\n    color: 'red',\r\n    background: 'lightgrey',\r\n    fontSize: '20px',\r\n    borderStyle: 'solid',\r\n    borderRadius: '5px',\r\n    padding: '10px',\r\n    marginBottom: '10px',\r\n    width: '700px'\r\n  };\r\n\r\n  const notificationSuccessStyles = {\r\n    color: 'green',\r\n    background: 'lightgrey',\r\n    fontSize: '20px',\r\n    borderStyle: 'solid',\r\n    borderRadius: '5px',\r\n    padding: '10px',\r\n    marginBottom: '10px',\r\n    width: '700px'\r\n  };\r\n\r\n  return (\r\n    message.status\r\n      ?\r\n      <div style={notificationSuccessStyles}>\r\n        <h3>{message.message}</h3>\r\n      </div>\r\n      :\r\n      <div style={notificationErrStyles}>\r\n        <h3>{message.message}</h3>\r\n      </div>\r\n  );\r\n};\r\n\r\nexport default Notification;","import React, { useState, useEffect } from 'react';\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport Persons from './components/Persons';\nimport personService from './services/persons';\nimport Notification from './components/Notification'\n\nconst App = () => {\n\n  const [persons, setPersons] = useState([]);\n  const [filteredPersons, setFilteredPersons] = useState('');\n  const [message, setMessage] = useState('');\n  const [newPerson, setNewPerson] = useState({\n    name: '',\n    number: ''\n  });\n\n  useEffect(() => {\n    getPersons();\n  }, []);\n\n  const getPersons = () => {\n    personService.getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons);\n      })\n  };\n\n  const updatePerson = (id, newPerson) => {\n    personService\n      .update(id, newPerson)\n      .then(newData => {\n        setPersons(persons.map(person => person.id !== id ? person : newData));\n        messageHandler(`Contact ${newPerson.name} updated!`)\n      })\n      .then(setNewPerson({ name: '', number: '' }))\n      .catch(err => messageHandler(null, JSON.stringify(err.response.data)))\n  };\n\n  const addPerson = (e) => {\n    e.preventDefault();\n\n    if (!newPerson.name) {\n      return alert('name is missing')\n    }\n    else if (!newPerson.number) {\n      return alert('number is missing')\n    };\n\n    return (\n      persons.some(person => person.name.toLocaleLowerCase() === newPerson.name.toLocaleLowerCase())\n        ?\n        window.confirm(`Contact ${newPerson.name} is already added to phonebook, replace the old number with a new one?`)\n          ? updatePerson(persons.find(person => person.name.toLocaleLowerCase() === newPerson.name.toLocaleLowerCase()).id, newPerson)\n          : \"\"\n        :\n        personService\n          .create(newPerson)\n          .then(returnedPerson => {\n            setPersons(persons.concat(returnedPerson));\n            messageHandler(`Contact ${returnedPerson.name} added succesfully`)\n            setNewPerson({ name: '', number: '' });\n          })\n          .catch(err => messageHandler(null, JSON.stringify(err.response.data)))\n    );\n  };\n\n  const messageHandler = (success, err) => {\n    setTimeout(() => {\n      setMessage('')\n    }, 5000);\n\n    return (\n      success\n        ? setMessage({ status: true, message: success })\n        : setMessage({ status: false, message: err })\n    );\n  };\n\n  const handleDelete = (id) => {\n    const person = persons.find(person => person.id === id);\n    return (\n      window.confirm(`Are you sure you want to delete ${person.name}`)\n        ?\n        personService\n          .deletePerson(id)\n          .then(res => {\n            setPersons(persons.filter(person => person.id !== id));\n            setFilteredPersons('');\n            messageHandler(`Contact ${person.name} deleted`);\n          })\n          .catch(err => messageHandler(null, `Error deleting person: ${err}`))\n        : \"\"\n    );\n  };\n\n  const handleInputChange = (e) => {\n    setNewPerson({ ...newPerson, [e.target.name]: e.target.value });\n  };\n\n  const handleFilter = (e) => {\n    if (typeof e.target.name !== 'string' || e.target.value.length === 0) {\n      return setFilteredPersons('');\n    };\n    const filteredList = persons.filter(person => person.name.toLocaleLowerCase().includes(e.target.value.toLocaleLowerCase()));\n    setFilteredPersons(filteredList);\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      {message\n        ?\n        <Notification message={message} />\n        : ''\n      }\n      <Filter handleFilter={handleFilter} />\n      <h2>add a new</h2>\n      <PersonForm\n        handleInputChange={handleInputChange}\n        addPerson={addPerson}\n        newPerson={newPerson}\n      />\n      <h2>Numbers</h2>\n      <Persons\n        persons={filteredPersons ? filteredPersons : persons}\n        handleDelete={handleDelete}\n      />\n    </div>\n  );\n};\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}